<?xml version="1.0" encoding="UTF-8" ?>
<!--********************************************************************
Copyright 2015 Robert A. Beezer

This file is part of MathBook XML.

MathBook XML is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 2 or version 3 of the
License (at your option).

MathBook XML is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with MathBook XML.  If not, see <http://www.gnu.org/licenses/>.
*********************************************************************-->

<!-- To process this file do                                                                      -->
<!--                                                                                              -->
<!-- (1) LaTeX/PDF:                                                                               -->
<!--     xsltproc mathbook/xsl/mathbook-latex.xsl minimal.xml                                     -->
<!--     pdflatex minimal.tex                                                                     -->
<!--     xelatex minimal.tex                                                                      -->
<!--                                                                                              -->
<!-- (2) HTML:                                                                                    -->
<!--     xsltproc mathbook/xsl/mathbook-html.xsl minimal.xml                                      -->
<!--     <browswer>  minimal.html                                                                 -->
<!--                                                                                              -->
<!-- (3) SageMathCloud worksheet (parameter causes a single file for output)                      -->
<!--     REMOVE the "X" in the double dash (which is not legal in an XML comment)                 -->
<!--     xsltproc -X-stringparam chunk.level 0 mathbook/xsl/mathbook-smc.xsl minimal.xml          -->
<!--     <SageMathCloud> minimal.sagews                                                           -->
<!--                                                                                              -->
<!-- (4) Sage doctesting                                                                          -->
<!--     REMOVE the "X" in the double dash (which is not legal in an XML comment)                 -->
<!--     xsltproc -X-stringparam chunk.level 0 mathbook/xsl/mathbook-sage-doctest.xsl minimal.xml -->
<!--     <read further instructions in> minimal.py                                                -->

 <mathbook  xmlns:xi="http://www.w3.org/2001/XInclude" xml:lang="en-US">

    <docinfo>
        <macros>
        \newcommand{\doubler}[1]{2#1}
        </macros>
    </docinfo>

    <article xml:id="minimal">
        <title>Mathematics of Weaving</title>

        <frontmatter>

            <titlepage>
                <author>
                    <personname>Ken Levasseur</personname>
                    <institution>UMass Lowell</institution>
                </author>
                <date><today /></date>
            </titlepage>

            <abstract>
                <p>This article highlights some of the mathematics behind weaving. It is an outgrowth of two projects. The first was work with Shelley Rasmussen and students in the UMass Lowell Co-op Scholar program.  Students Mary Mersereau, Olivia Demers, and Matt D'Angelo developed materials that linked weaving with mathematics.  The second is <em>Lowell Tex</em>, a collaboration between UMass Lowell faculty and local textile artists to develop STEM-related teaching materials.</p>
            </abstract>
	<colophon>

		<copyright>
			<holder>Ken Levasseur</holder>
			<minilicense>Creative Commons Attribution-Noncommercial-ShareAlike 3.0 United States License. 2011-2016</minilicense>
			<creativecommons BY="yes" NC="yes" SA="yes" version="4.0"/>
			<shortlicense><p><em>Mathematics of Weaving</em> by Ken Levasseur is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 3.0 United States License. You are free to:
			<ul>
			<li>Share<ndash /> copy and redistribute the material in any medium or format</li>
			<li>Adapt<ndash /> remix, transform, and build upon the material</li>
			</ul>
			You may not use the material for commercial purposes.  The licensor cannot revoke these freedoms as long as you follow the license terms.</p>
			</shortlicense>
		</copyright>

	</colophon>

        </frontmatter>


<section xml:id="section-introduction">
<title>Introduction</title>
				<figure xml:id="fig-loom">
                <caption>A loom
                </caption>
                <image width="80%" source="images/loom.png">
                    <description>A typical manual harness loom</description>
                </image>
            </figure>

<p>Weaving that is considered here is what can be realized with a multi-harness loom such as the one shown in <xref ref="fig-loom" autoname="yes" />.
The main topics are </p>

	<ul>
		<li><p>an exposition of how the weaver's draft, consisting of a tie-up draft, treadlig matrix and lift plan can
		 be combined to visualize the final weave that will be produced, and</p></li>
		<li><p>an analysis of how harnesses can be tied in such a way to realize a given weave pattern.</p></li>
	</ul>
<subsection xml:id="ss-weaving-def">
<title>Weaving Basics</title><index><main>Weaving Basics</main></index>

<p>A weave pattern is created by interleaving two sets of parallel lengths of fiber. Each of the fibers in one set, the <term>warp</term>, is connected to exactly one of \(n\) harnesses, \(n \geq 2\). Each <term>harness</term> will lift the threads that are connected to it.  A series of <term>treadles</term> are connected to the harnesses, with each treadle connected to between 1 and <m>n-1</m> of the harnesses. When a treadle is pressed, the warp fibers connected to that treadle through the harnesses are lifted, forming a <term>shed</term> between the warp fibers that are lifted and those that are not lifted. A <term>weft</term> thread can then be passed through the shed.  The weft runs perpendicular to the warp. Normally, the weft thread is passed through the shed with a <term>shuttle</term>. </p>

<p>By performing a sequence of pedal presses and shuttle passes that interleave the warp with the weft, a weaving pattern is realized.  Using different colors for the warp and weft makes the pattern visible. In this discussion we only consider "monochromatic weaving," where the warp are all of one color and the weft threads are all of a second color.</p>
</subsection>
<subsection xml:id="ss-weaving-draft">
<title>The Weaver's Draft</title>
<p>A weaver's draft is typically a array of four matrices, such as the small example in <xref ref="fig-draft" autoname="yes" />. The top left (A) matrix, called the harness draft, has as many columns as the number of warp threads, and there is a row for each harness.  Each column indicates to which harness the corresponding thread is tied. Each thread is tied to only one harness and so each column has one mark.  The top right (B) matrix, called the pedal plan, indicates which harnesses are tied to each treadle and determines which threads will make up the top of the shed when a pedal is pressed. The pedal has as many rows as there are harnesses and as many columns as there are pedals.  The bottom right (C) matrix is the lift plan, which indicates the sequence of pedal presses that are to performed for each successive weft thread. The lift plan has as many columns as there are pedals.  The number of rows is the number of weft threads, although the lift plan is frequently periodic and the rows on the draft would be repeated. The output from is sequence of presses and shuttle movements is indicated with the bottom left (D) matrix, the weave.  Some weavers use different  positioning schemes in their drafts, but the essential information is the same.  </p>
				<figure xml:id="fig-draft">
                <caption>A typical monochromatic weaving draft
                </caption>
                <image width="80%" source="images/fig-draft.png">
                    <description>A typical monochromatic weaving draft</description>
                </image>
            </figure>
</subsection>
<subsection>
   <title>Computing the weave pattern</title>
<p>Clearly the weaver has control over the harness matrix, pedal matrix and lift plan.   It is a simple matter of logic to determine whether any weft thread will lie above or below any warp thread.  In <xref ref="section-products" autoname="yes"/> we derive formulas to determine the whole weave based on matrix multiplication.</p>
<p>Not every draft will produce a weave that "hangs together."  A trivial example would be a draft for which one of the warp fibers is always on the upper part of the shed, which would leave that thread to float around.  Less obvious cases can arise though.  We will describe how this can be determined from the output matrix.</p>
</subsection>
 <subsection>
   <title>Realization of a Weave</title>
<p>An even more practical question is how to specify the harness matrix, pedal matrix and lift plan to attain a specific weave pattern, if at all possible for a given loom.  In <xref ref="section-realization" autoname="yes"/>, we give a description of how to determine whether one can  realize a desired weave pattern and how the loom can be set to do so.</p>
</subsection>
</section>
<!-- 
Given a collection of subsets of some set, their minsets are the atoms which cannot be divided by standard set operations. Minsets hold the key to how the harnesses of a loom should be threaded in order to realize a weave pattern, and to determine whether the pattern can even be realized with a specific loom. 


We number the warp threads left to right with the numbers 1 to w, and the harnesses with numbers 0 through n-1.

The simplest weave case is a two harness arrangement where warp thread k is connected to harness k mod 2. If each of two pedals are connected to the two harnesses, and pedals are alternated, the result is a "plain weave."  There are two different lift patterns here. 

Figure here. 


Fundamental question:  given a weave pattern with a certain set of lift patterns and look with a number available harnesses and pedals, is it possible to realize the pattern with that loom?


 -->

<xi:include href="./harnessmatrix.xml" />

<section xml:id="section-realization">
		<title>Realization of a Weave Pattern</title>

<p><index><main>Minsets</main></index> 
Whether a pattern can be realized is determined by whether each of the distinct horizontal rows of the pattern can be realized. Let <m>r_1,\dots , r_n</m> be those rows. Each row <m>r_i</m> is realized be lifting a set <m>R_i</m> of warp fibers. Give two warp fibers <m>f_1</m> and <m>f_2</m>, if <m>f_1, f_2 \in R_i</m> for some <m>i</m> yet <m>f_1 \in R_j</m> while <m>f_2 \notin R_j</m>, we cannot connect <m>f_1</m> and <m>f_2</m> to the same harness.   If we presume that all warp fibers are connected to exactly one harness, with the set of warp fibers connected to harness <m>i</m> equal to <m>H_i</m>, then the warp fibers lifted to realize a row must be a union of the <m>H_i's</m>. These observations imply that <m>\{H_i\}</m> would be the minsets generated by <m>\{R_j\}</m>.  For each <m>i</m>,

<me>H_i = \bigcap_{j=1}^{n}{\tilde{R}_j}</me> 
where <m>\tilde{R}_j</m> is either <m>R_j</m>  or <m>R_j^c</m>.
</p> 

<!-- 
		<sage>
			 <input>
			 A = matrix(4,5, srange(20))
			 A.rref()
			 </input>
			 <output>
			 [ 1  0 -1 -2 -3]
			 [ 0  1  2  3  4]
			 [ 0  0  0  0  0]
			 [ 0  0  0  0  0]
			 </output>
		</sage>
 -->
  </section>
 <backmatter xml:id="backmatter">
            <title>Reference</title>

            <appendix>
                <title>Notation</title>
                <p>This is some notation introduced in the article.</p>
                <notation-list />
            </appendix>


 
            <!-- Bibliography/References can appear anywhere, -->
            <!-- but these are in the backmatter              -->

            <references>
                <title>References</title>

                <biblio type="raw" xml:id="biblio-rasmussen-harness">Shelley Rasmussen, <title>On 3-Harness Weaving: Cataloging Designs Generated by Fundamental Blocks Having Distinct Rows and Columns</title>.<journal>The Electronic Journal of Combinatorics</journal>, 2008, <volume>15</volume> <number>R1</number>, 57<ndash />62.
                </biblio>

<!-- 
                <biblio type="raw" xml:id="biblio-lay-article">David C. Lay, <title>Subspaces and Echelon Forms</title>. <journal>The College Mathematics Journal</journal>, January 1993, <volume>24</volume> <number>1</number>.</biblio>

                <conclusion>
                    <p>Need a conclusion here?</p>
                </conclusion>
   -->
          </references>

            <index-part >
                <title>Index</title>
                <index-list />
            </index-part>

            <colophon>
                <p>This article was authored in MathBook XML.</p>
            </colophon>
        </backmatter>
    </article>

</mathbook>
